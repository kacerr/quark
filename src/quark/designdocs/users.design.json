{"_id": "_design/users", "couchapp": {"signatures": {}, "objects": {}, "manifest": ["language", "views/", "views/active/", "views/active/map.cpp", "views/budget/", "views/budget/reduce.cpp", "views/budget/map.cpp"]}, "_attachments": {}, "language": "C++", "views": {"active": {"map": "#include <couchcpp/api.h>\n\nvoid mapdoc(Document doc) {\n\nif (doc[\"finished\"].getBool() != true && doc[\"user\"].defined()) {\n\temit(doc[\"user\"], doc[\"_rev\"]);\n}\n\n}"}, "budget": {"map": "#include <couchcpp/api.h>\n\nvoid mapdoc(Document doc) {\n\n\tif (doc[\"_id\"].getString().substr(0,2) == \"o.\") {\n\t\tif (doc[\"finished\"].getBool() == false) {\n\t\t\tValue b = doc[\"blocked\"];\n\t\t\temit(doc[\"user\"], b);\n\t\t}\n\t}\n}", "reduce": "#include <couchcpp/api.h>\n\nValue reduce(RowSet rows) {\n\tdouble assets = 0;\n\tdouble currency = 0;\n\n\tfor (auto x : rows) {\n\t\tassets += x.value[\"assets\"].getNumber();\n\t\tcurrency += x.value[\"currency\"].getNumber();\n\t}\n\n\treturn Object(\"assets\",assets)\n\t\t\t(\"currency\",currency);\n}\nValue rereduce(Value values) {\n\tdouble assets = 0;\n\tdouble currency = 0;\n\n\tfor (auto x : values) {\n\t\tassets += x[\"assets\"].getNumber();\n\t\tcurrency += x[\"currency\"].getNumber();\n\t}\n\n\treturn Object(\"assets\",assets)\n\t\t\t(\"currency\",currency);\n\n}"}}}
